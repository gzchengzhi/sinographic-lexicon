<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sinographic Integration Lexicon - Online Query Tool</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #1a252f;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--dark);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            padding: 25px 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        header .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .main-content {
            display: flex;
            min-height: 700px;
        }
        
        /* ‰æßËæπÊ†èÊ†∑Âºè */
        .sidebar {
            width: 300px;
            background: var(--light);
            padding: 25px;
            border-right: 2px solid #ddd;
        }
        
        .search-box {
            margin-bottom: 30px;
        }
        
        .search-box input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        .search-box input:focus {
            border-color: var(--secondary);
            outline: none;
        }
        
        .filter-section {
            margin-bottom: 25px;
        }
        
        .filter-section h3 {
            color: var(--primary);
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--secondary);
        }
        
        .filter-group {
            margin-bottom: 15px;
        }
        
        .filter-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }
        
        .filter-select {
            width: 100%;
            padding: 8px 10px;
            border-radius: 6px;
            border: 1px solid #ccc;
            background: white;
        }
        
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-top: 8px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 12px;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 10px;
        }
        
        .btn:hover {
            background: #2980b9;
        }
        
        .btn-accent {
            background: var(--accent);
        }
        
        .btn-accent:hover {
            background: #c0392b;
        }
        
        /* ‰∏ªÂÜÖÂÆπÂå∫Ê†∑Âºè */
        .content-area {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
        }
        
        .stats-bar {
            display: flex;
            justify-content: space-between;
            background: var(--light);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .stat-item {
            text-align: center;
            padding: 0 15px;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--secondary);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .results-info {
            margin-bottom: 20px;
            color: #666;
        }
        
        /* ÁªìÊûúË°®Ê†ºÊ†∑Âºè */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        
        .results-table th {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: left;
            position: sticky;
            top: 0;
        }
        
        .results-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        
        .results-table tr:hover {
            background: #f9f9f9;
        }
        
        .hanzi-cell {
            font-size: 1.8rem;
            text-align: center;
            font-family: "SimSun", "STKaiti", serif;
        }
        
        .priority-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            color: white;
        }
        
        .priority-1 { background: #27ae60; }
        .priority-2 { background: #f39c12; }
        .priority-3 { background: #e67e22; }
        .priority-4 { background: #95a5a6; }
        .priority-5 { background: #7f8c8d; }
        
        .logic-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            background: #e3f2fd;
            color: #1565c0;
        }
        
        /* ËΩ¨Êç¢Âô®Ê†∑Âºè */
        .converter-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-top: 40px;
        }
        
        .converter-title {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .converter-box {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .converter-input, .converter-output {
            flex: 1;
            min-width: 300px;
        }
        
        textarea {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            resize: vertical;
        }
        
        .converter-output textarea {
            background: #f0f0f0;
        }
        
        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 1024px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 2px solid #ddd;
            }
        }
        
        @media (max-width: 768px) {
            .results-table {
                display: block;
                overflow-x: auto;
            }
            
            .converter-box {
                flex-direction: column;
            }
            
            .stat-item {
                flex: 1;
                min-width: 120px;
            }
        }
        
        /* Âä®ÁîªÊïàÊûú */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Âç°ÁâáËßÜÂõæ */
        .card-view {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .word-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-left: 5px solid var(--secondary);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .word-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .card-hanzi {
            font-size: 2.5rem;
            font-family: "SimSun", "STKaiti", serif;
            margin-right: 15px;
        }
        
        .card-english {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary);
        }
        
        .card-pinyin {
            color: #e74c3c;
            font-style: italic;
        }
        
        .card-example {
            margin-top: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            font-size: 0.95rem;
            border-left: 3px solid #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìö Sinographic Integration Lexicon</h1>
            <p class="subtitle">Online Query Tool for 1500 English-Chinese Logographic Mappings</p>
        </header>
        
        <div class="main-content">
            <!-- ‰æßËæπÊ†è -->
            <div class="sidebar">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search English, Hanzi, Pinyin or Meaning...">
                </div>
                
                <div class="filter-section">
                    <h3><i class="fas fa-filter"></i> Filters</h3>
                    
                    <div class="filter-group">
                        <label>Priority Level</label>
                        <select id="priorityFilter" class="filter-select">
                            <option value="all">All Priorities</option>
                            <option value="1">P1 - Most Frequent (500)</option>
                            <option value="2">P2 - High Frequency (350)</option>
                            <option value="3">P3 - Medium Frequency (300)</option>
                            <option value="4">P4 - Low Frequency (200)</option>
                            <option value="5">P5 - Specialized (150)</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>Part of Speech</label>
                        <div class="checkbox-group" id="posFilter">
                            <div class="checkbox-item">
                                <input type="checkbox" id="pos-n" checked>
                                <label for="pos-n">Nouns</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="pos-v" checked>
                                <label for="pos-v">Verbs</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="pos-adj" checked>
                                <label for="pos-adj">Adjectives</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="pos-adv" checked>
                                <label for="pos-adv">Adverbs</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="filter-group">
                        <label>Semantic Category</label>
                        <select id="categoryFilter" class="filter-select">
                            <option value="all">All Categories</option>
                            <option value="Nature/Existence">Nature/Existence</option>
                            <option value="People/Society">People/Society</option>
                            <option value="Body/Health">Body/Health</option>
                            <option value="Actions/Changes">Actions/Changes</option>
                            <option value="Qualities/Degree">Qualities/Degree</option>
                            <option value="Relations/Functions">Relations/Functions</option>
                            <option value="Modern/Abstract">Modern/Abstract</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>Mapping Logic</label>
                        <select id="logicFilter" class="filter-select">
                            <option value="all">All Types</option>
                            <option value="T1">T1 - Direct Match</option>
                            <option value="T2">T2 - Near Match</option>
                            <option value="T3">T3 - Core Meaning</option>
                            <option value="T4">T4 - Cultural Loan</option>
                            <option value="T5">T5 - System Compound</option>
                        </select>
                    </div>
                </div>
                
                <button class="btn" id="resetFilters">
                    <i class="fas fa-redo"></i> Reset All Filters
                </button>
                
                <div class="filter-section">
                    <h3><i class="fas fa-cogs"></i> View Options</h3>
                    <div class="filter-group">
                        <label>Results View</label>
                        <select id="viewMode" class="filter-select">
                            <option value="table">Table View</option>
                            <option value="cards">Card View</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>Items Per Page</label>
                        <select id="pageSize" class="filter-select">
                            <option value="25">25 items</option>
                            <option value="50" selected>50 items</option>
                            <option value="100">100 items</option>
                            <option value="500">500 items</option>
                            <option value="all">All items</option>
                        </select>
                    </div>
                </div>
                
                <button class="btn btn-accent" id="exportBtn">
                    <i class="fas fa-download"></i> Export Current Results
                </button>
            </div>
            
            <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
            <div class="content-area">
                <div class="stats-bar">
                    <div class="stat-item">
                        <div class="stat-value" id="totalCount">1500</div>
                        <div class="stat-label">Total Words</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="filteredCount">1500</div>
                        <div class="stat-label">Filtered Words</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="priority1Count">500</div>
                        <div class="stat-label">P1 Words</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="hanziCount">1200</div>
                        <div class="stat-label">Unique Hanzi</div>
                    </div>
                </div>
                
                <div class="results-info">
                    Showing <span id="showingCount">1500</span> of <span id="totalCount2">1500</span> entries
                    <span id="searchInfo" style="display:none;"> for "<span id="searchTerm"></span>"</span>
                </div>
                
                <!-- Ë°®Ê†ºËßÜÂõæ -->
                <div id="tableView">
                    <table class="results-table">
                        <thead>
                            <tr>
                                <th>English</th>
                                <th>Hanzi</th>
                                <th>Pinyin</th>
                                <th>POS</th>
                                <th>Category</th>
                                <th>Priority</th>
                                <th>Logic</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody id="resultsBody">
                            <!-- Âä®ÊÄÅÂä†ËΩΩÊï∞ÊçÆ -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Âç°ÁâáËßÜÂõæ -->
                <div id="cardView" style="display: none;">
                    <div class="card-view" id="cardsContainer">
                        <!-- Âä®ÊÄÅÂä†ËΩΩÂç°Áâá -->
                    </div>
                </div>
                
                <!-- ÂàÜÈ°µÊéß‰ª∂ -->
                <div id="pagination" style="text-align: center; margin-top: 30px;">
                    <button id="prevPage" class="btn" style="width: auto; display: inline-block; margin-right: 10px;">
                        <i class="fas fa-chevron-left"></i> Previous
                    </button>
                    <span id="pageInfo" style="margin: 0 15px;">Page 1 of 30</span>
                    <button id="nextPage" class="btn" style="width: auto; display: inline-block; margin-left: 10px;">
                        Next <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <!-- ÊñáÊú¨ËΩ¨Êç¢Âô® -->
                <div class="converter-section">
                    <h3 class="converter-title">
                        <i class="fas fa-exchange-alt"></i> Text Converter
                    </h3>
                    <div class="converter-box">
                        <div class="converter-input">
                            <label>Input English Text:</label>
                            <textarea id="inputText" placeholder="Enter English text to convert to mixed script...">I love my family and friends. We eat dinner together every day.</textarea>
                            <button class="btn" id="convertBtn" style="margin-top: 10px;">
                                <i class="fas fa-magic"></i> Convert Text
                            </button>
                        </div>
                        <div class="converter-output">
                            <label>Mixed Script Output:</label>
                            <textarea id="outputText" readonly placeholder="Converted text will appear here..."></textarea>
                            <button class="btn btn-accent" id="copyBtn" style="margin-top: 10px;">
                                <i class="fas fa-copy"></i> Copy to Clipboard
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Â≠¶‰π†Ê®°Âºè -->
                <div class="converter-section" style="margin-top: 30px;">
                    <h3 class="converter-title">
                        <i class="fas fa-graduation-cap"></i> Learning Mode
                    </h3>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="btn" id="quizBtn">
                            <i class="fas fa-question-circle"></i> Generate Quiz
                        </button>
                        <button class="btn" id="flashcardsBtn">
                            <i class="fas fa-layer-group"></i> Flashcards
                        </button>
                        <button class="btn" id="studyPlanBtn">
                            <i class="fas fa-calendar-alt"></i> Create Study Plan
                        </button>
                    </div>
                    <div id="quizContainer" style="display: none; margin-top: 20px;">
                        <!-- ÊµãÈ™åÂÜÖÂÆπÂä®ÊÄÅÂä†ËΩΩ -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 1. ÂàùÂßãÂåñÂèòÈáè
        let fullData = [];
        let filteredData = [];
        let currentPage = 1;
        let itemsPerPage = 50;
        let currentView = 'table';
        
        // 2. È°µÈù¢Âä†ËΩΩÊó∂ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', async function() {
            await loadData();
            initializeFilters();
            updateDisplay();
            setupEventListeners();
        });
        
        // 3. Âä†ËΩΩÊï∞ÊçÆÔºàÂÆûÈôÖÈÉ®ÁΩ≤‰∏≠‰ªéÊúçÂä°Âô®Ëé∑ÂèñÔºâ
        async function loadData() {
            try {
                // ËøôÈáåÂèØ‰ª•ÊõøÊç¢‰∏∫ÂÆûÈôÖAPIË∞ÉÁî®
                // const response = await fetch('https://api.example.com/lexicon');
                // fullData = await response.json();
                
                // Ê®°ÊãüÊï∞ÊçÆÂä†ËΩΩ
                console.log("Loading data...");
                
                // Â¶ÇÊûúÈÉ®ÁΩ≤Âú®ÊúçÂä°Âô®Ôºå‰ΩøÁî®Ôºö
                // const response = await fetch('data/lexicon.json');
                // fullData = await response.json();
                
                // ‰∏∫ÊºîÁ§∫ÁõÆÁöÑÔºåÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∫õÁ§∫‰æãÊï∞ÊçÆ
                // ÂÆûÈôÖÈÉ®ÁΩ≤‰∏≠Â∫î‰ΩøÁî®ÂÆåÊï¥ÁöÑ1500ËØçÊï∞ÊçÆÈõÜ
                fullData = generateSampleData(100); // Á§∫‰æã100Êù°
                filteredData = [...fullData];
                
                updateStats();
            } catch (error) {
                console.error("Error loading data:", error);
                alert("Failed to load lexicon data. Please try again later.");
            }
        }
        
        // 4. ÁîüÊàêÁ§∫‰æãÊï∞ÊçÆ
        function generateSampleData(count) {
            const sampleWords = [
                // Nature
                {id: 1, english: "sun", hanzi: "Êó•", pinyin: "r√¨", pos: "n", 
                 meaning_en: "the star at the center of solar system", 
                 meaning_zh: "Â§™Èò≥", logic: "T1", priority: 1, 
                 category: "Nature/Existence", 
                 example: "The Êó• rises in the east."},
                
                {id: 2, english: "water", hanzi: "Ê∞¥", pinyin: "shu«ê", pos: "n",
                 meaning_en: "transparent liquid", meaning_zh: "Ê∞¥", 
                 logic: "T1", priority: 1, category: "Nature/Existence",
                 example: "Drink Ê∞¥ every day."},
                
                // People
                {id: 3, english: "person", hanzi: "‰∫∫", pinyin: "r√©n", pos: "n",
                 meaning_en: "human being", meaning_zh: "‰∫∫", 
                 logic: "T1", priority: 1, category: "People/Society",
                 example: "Every ‰∫∫ has rights."},
                
                {id: 4, english: "friend", hanzi: "Âèã", pinyin: "y«íu", pos: "n",
                 meaning_en: "person whom one knows and likes", meaning_zh: "ÊúãÂèã",
                 logic: "T1", priority: 1, category: "People/Society",
                 example: "He is my best Âèã."},
                
                // Actions
                {id: 5, english: "see", hanzi: "ËßÅ", pinyin: "ji√†n", pos: "v",
                 meaning_en: "perceive with eyes", meaning_zh: "ÁúãËßÅ",
                 logic: "T1", priority: 1, category: "Actions/Changes",
                 example: "I ËßÅ a bird."},
                
                {id: 6, english: "speak", hanzi: "Ë®Ä", pinyin: "y√°n", pos: "v",
                 meaning_en: "say words", meaning_zh: "ËØ¥ËØù",
                 logic: "T1", priority: 1, category: "Actions/Changes",
                 example: "He Ë®Ä very clearly."},
                
                // Êõ¥Â§öÁ§∫‰æãÊï∞ÊçÆ...
            ];
            
            // Â§çÂà∂Á§∫‰æãÊï∞ÊçÆ‰ª•ËææÂà∞ÊåáÂÆöÊï∞Èáè
            let data = [];
            for (let i = 0; i < count; i++) {
                const original = sampleWords[i % sampleWords.length];
                data.push({
                    ...original,
                    id: i + 1,
                    english: original.english + (i > sampleWords.length ? (i + 1) : "")
                });
            }
            
            return data;
        }
        
        // 5. ÂàùÂßãÂåñÁ≠õÈÄâÂô®
        function initializeFilters() {
            // ËÆæÁΩÆÈªòËÆ§ÂÄº
            document.getElementById('priorityFilter').value = 'all';
            document.getElementById('categoryFilter').value = 'all';
            document.getElementById('logicFilter').value = 'all';
            document.getElementById('viewMode').value = 'table';
            document.getElementById('pageSize').value = '50';
        }
        
        // 6. ËÆæÁΩÆ‰∫ã‰ª∂ÁõëÂê¨Âô®
        function setupEventListeners() {
            // ÊêúÁ¥¢ËæìÂÖ•
            document.getElementById('searchInput').addEventListener('input', debounce(handleSearch, 300));
            
            // Á≠õÈÄâÂô®ÂèòÊõ¥
            document.getElementById('priorityFilter').addEventListener('change', applyFilters);
            document.getElementById('categoryFilter').addEventListener('change', applyFilters);
            document.getElementById('logicFilter').addEventListener('change', applyFilters);
            document.getElementById('pageSize').addEventListener('change', function() {
                itemsPerPage = this.value === 'all' ? Infinity : parseInt(this.value);
                currentPage = 1;
                updateDisplay();
            });
            
            // ËØçÊÄßÂ§çÈÄâÊ°Ü
            document.querySelectorAll('#posFilter input').forEach(checkbox => {
                checkbox.addEventListener('change', applyFilters);
            });
            
            // ËßÜÂõæÂàáÊç¢
            document.getElementById('viewMode').addEventListener('change', function() {
                currentView = this.value;
                updateDisplay();
            });
            
            // ÈáçÁΩÆÊåâÈíÆ
            document.getElementById('resetFilters').addEventListener('click', resetFilters);
            
            // ÂØºÂá∫ÊåâÈíÆ
            document.getElementById('exportBtn').addEventListener('click', exportData);
            
            // ÂàÜÈ°µÊåâÈíÆ
            document.getElementById('prevPage').addEventListener('click', function() {
                if (currentPage > 1) {
                    currentPage--;
                    updateDisplay();
                }
            });
            
            document.getElementById('nextPage').addEventListener('click', function() {
                const totalPages = Math.ceil(filteredData.length / itemsPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    updateDisplay();
                }
            });
            
            // ËΩ¨Êç¢Âô®ÊåâÈíÆ
            document.getElementById('convertBtn').addEventListener('click', convertText);
            document.getElementById('copyBtn').addEventListener('click', copyToClipboard);
            
            // Â≠¶‰π†Ê®°ÂºèÊåâÈíÆ
            document.getElementById('quizBtn').addEventListener('click', generateQuiz);
            document.getElementById('flashcardsBtn').addEventListener('click', showFlashcards);
            document.getElementById('studyPlanBtn').addEventListener('click', createStudyPlan);
        }
        
        // 7. Èò≤ÊäñÂáΩÊï∞
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
        
        // 8. Â§ÑÁêÜÊêúÁ¥¢
        function handleSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            applyFilters();
            
            // Êõ¥Êñ∞ÊêúÁ¥¢‰ø°ÊÅØÊòæÁ§∫
            const searchInfo = document.getElementById('searchInfo');
            const searchTermSpan = document.getElementById('searchTerm');
            
            if (searchTerm.trim()) {
                searchInfo.style.display = 'inline';
                searchTermSpan.textContent = searchTerm;
            } else {
                searchInfo.style.display = 'none';
            }
        }
        
        // 9. Â∫îÁî®Á≠õÈÄâÂô®
        function applyFilters() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const priority = document.getElementById('priorityFilter').value;
            const category = document.getElementById('categoryFilter').value;
            const logic = document.getElementById('logicFilter').value;
            
            // Ëé∑ÂèñÈÄâ‰∏≠ÁöÑËØçÊÄß
            const posFilters = {
                'n': document.getElementById('pos-n').checked,
                'v': document.getElementById('pos-v').checked,
                'adj': document.getElementById('pos-adj').checked,
                'adv': document.getElementById('pos-adv').checked
            };
            
            // Á≠õÈÄâÊï∞ÊçÆ
            filteredData = fullData.filter(item => {
                // ÊêúÁ¥¢Á≠õÈÄâ
                if (searchTerm) {
                    const matchesSearch = 
                        item.english.toLowerCase().includes(searchTerm) ||
                        item.hanzi.includes(searchTerm) ||
                        item.pinyin.toLowerCase().includes(searchTerm) ||
                        item.meaning_en.toLowerCase().includes(searchTerm) ||
                        item.meaning_zh.includes(searchTerm);
                    
                    if (!matchesSearch) return false;
                }
                
                // ‰ºòÂÖàÁ∫ßÁ≠õÈÄâ
                if (priority !== 'all' && item.priority.toString() !== priority) {
                    return false;
                }
                
                // Á±ªÂà´Á≠õÈÄâ
                if (category !== 'all' && item.category !== category) {
                    return false;
                }
                
                // Êò†Â∞ÑÈÄªËæëÁ≠õÈÄâ
                if (logic !== 'all' && item.logic !== logic) {
                    return false;
                }
                
                // ËØçÊÄßÁ≠õÈÄâ
                if (!posFilters[item.pos]) {
                    return false;
                }
                
                return true;
            });
            
            currentPage = 1;
            updateStats();
            updateDisplay();
        }
        
        // 10. ÈáçÁΩÆÁ≠õÈÄâÂô®
        function resetFilters() {
            document.getElementById('searchInput').value = '';
            initializeFilters();
            document.querySelectorAll('#posFilter input').forEach(cb => cb.checked = true);
            
            filteredData = [...fullData];
            currentPage = 1;
            updateStats();
            updateDisplay();
            
            document.getElementById('searchInfo').style.display = 'none';
        }
        
        // 11. Êõ¥Êñ∞ÁªüËÆ°‰ø°ÊÅØ
        function updateStats() {
            const totalCount = fullData.length;
            const filteredCount = filteredData.length;
            
            // ËÆ°ÁÆóÂêÑ‰ºòÂÖàÁ∫ßÊï∞Èáè
            const priorityCounts = {1: 0, 2: 0, 3: 0, 4: 0, 5: 0};
            fullData.forEach(item => {
                if (item.priority >= 1 && item.priority <= 5) {
                    priorityCounts[item.priority]++;
                }
            });
            
            // Êõ¥Êñ∞ÊòæÁ§∫
            document.getElementById('totalCount').textContent = totalCount;
            document.getElementById('filteredCount').textContent = filteredCount;
            document.getElementById('priority1Count').textContent = priorityCounts[1];
            
            // ËÆ°ÁÆóÂîØ‰∏ÄÊ±âÂ≠óÊï∞Èáè
            const uniqueHanzi = new Set(fullData.map(item => item.hanzi)).size;
            document.getElementById('hanziCount').textContent = uniqueHanzi;
            
            // Êõ¥Êñ∞ÁªìÊûú‰ø°ÊÅØ
            document.getElementById('showingCount').textContent = Math.min(filteredCount, itemsPerPage);
            document.getElementById('totalCount2').textContent = filteredCount;
        }
        
        // 12. Êõ¥Êñ∞ÊòæÁ§∫
        function updateDisplay() {
            // ËÆ°ÁÆóÂàÜÈ°µ
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, filteredData.length);
            const pageData = filteredData.slice(startIndex, endIndex);
            
            // Êõ¥Êñ∞ÂàÜÈ°µ‰ø°ÊÅØ
            const totalPages = Math.ceil(filteredData.length / itemsPerPage);
            document.getElementById('pageInfo').textContent = 
                `Page ${currentPage} of ${totalPages}`;
            
            document.getElementById('prevPage').disabled = currentPage <= 1;
            document.getElementById('nextPage').disabled = currentPage >= totalPages;
            
            // Ê†πÊçÆËßÜÂõæÊ®°ÂºèÊòæÁ§∫
            if (currentView === 'table') {
                document.getElementById('tableView').style.display = 'block';
                document.getElementById('cardView').style.display = 'none';
                renderTableView(pageData);
            } else {
                document.getElementById('tableView').style.display = 'none';
                document.getElementById('cardView').style.display = 'block';
                renderCardView(pageData);
            }
            
            // Êõ¥Êñ∞ÊòæÁ§∫Êï∞Èáè
            document.getElementById('showingCount').textContent = pageData.length;
        }
        
        // 13. Ê∏≤ÊüìË°®Ê†ºËßÜÂõæ
        function renderTableView(data) {
            const tbody = document.getElementById('resultsBody');
            tbody.innerHTML = '';
            
            if (data.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 40px; color: #666;">
                            <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 15px; display: block;"></i>
                            No matching words found. Try adjusting your filters.
                        </td>
                    </tr>
                `;
                return;
            }
            
            data.forEach(item => {
                const row = document.createElement('tr');
                row.className = 'fade-in';
                row.innerHTML = `
                    <td><strong>${item.english}</strong><br>
                        <small style="color: #666;">${item.meaning_en}</small></td>
                    <td class="hanzi-cell">${item.hanzi}</td>
                    <td>${item.pinyin}</td>
                    <td><span class="logic-badge">${item.pos}</span></td>
                    <td>${item.category.split('/')[0]}</td>
                    <td><span class="priority-badge priority-${item.priority}">P${item.priority}</span></td>
                    <td><span class="logic-badge">${item.logic}</span></td>
                    <td><small>${item.example}</small></td>
                `;
                tbody.appendChild(row);
            });
        }
        
        // 14. Ê∏≤ÊüìÂç°ÁâáËßÜÂõæ
        function renderCardView(data) {
            const container = document.getElementById('cardsContainer');
            container.innerHTML = '';
            
            if (data.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #666; grid-column: 1/-1;">
                        <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 15px; display: block;"></i>
                        No matching words found. Try adjusting your filters.
                    </div>
                `;
                return;
            }
            
            data.forEach(item => {
                const card = document.createElement('div');
                card.className = 'word-card fade-in';
                card.innerHTML = `
                    <div class="card-header">
                        <div style="display: flex; align-items: center;">
                            <div class="card-hanzi">${item.hanzi}</div>
                            <div>
                                <div class="card-english">${item.english}</div>
                                <div class="card-pinyin">${item.pinyin}</div>
                            </div>
                        </div>
                        <span class="priority-badge priority-${item.priority}">P${item.priority}</span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <small style="color: #666;">${item.meaning_en}</small>
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <span class="logic-badge">${item.pos}</span>
                        <span class="logic-badge">${item.logic}</span>
                        <span style="font-size: 0.8rem; color: #7f8c8d;">${item.category}</span>
                    </div>
                    <div class="card-example">
                        <strong>Example:</strong> ${item.example}
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // 15. ÂØºÂá∫Êï∞ÊçÆ
        function exportData() {
            const dataToExport = filteredData.map(item => ({
                English: item.english,
                Hanzi: item.hanzi,
                Pinyin: item.pinyin,
                Meaning: item.meaning_en,
                POS: item.pos,
                Category: item.category,
                Priority: `P${item.priority}`,
                Logic: item.logic,
                Example: item.example
            }));
            
            // ËΩ¨Êç¢‰∏∫CSV
            const headers = Object.keys(dataToExport[0]);
            const csvContent = [
                headers.join(','),
                ...dataToExport.map(row => 
                    headers.map(header => 
                        `"${String(row[header] || '').replace(/"/g, '""')}"`
                    ).join(',')
                )
            ].join('\n');
            
            // ÂàõÂª∫‰∏ãËΩΩÈìæÊé•
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', `sinographic_lexicon_${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // ÊòæÁ§∫ÂØºÂá∫ÊàêÂäüÊ∂àÊÅØ
            showNotification('Data exported successfully!', 'success');
        }
        
        // 16. ÊñáÊú¨ËΩ¨Êç¢ÂäüËÉΩ
        function convertText() {
            const inputText = document.getElementById('inputText').value;
            const outputTextarea = document.getElementById('outputText');
            
            if (!inputText.trim()) {
                outputTextarea.value = '';
                return;
            }
            
            // ÁÆÄÂçïÁöÑËΩ¨Êç¢ÈÄªËæë
            let convertedText = inputText;
            
            // ÂàõÂª∫ÂçïËØçÂà∞Ê±âÂ≠óÁöÑÊò†Â∞Ñ
            const wordMap = {};
            fullData.forEach(item => {
                wordMap[item.english.toLowerCase()] = item.hanzi;
            });
            
            // ËΩ¨Êç¢Â∏∏ËßÅÂçïËØçÔºàÂÆûÈôÖÂ∫îÊõ¥Â§çÊùÇÔºåËÄÉËôëËØçÊÄß„ÄÅÊó∂ÊÄÅÁ≠âÔºâ
            const words = Object.keys(wordMap).sort((a, b) => b.length - a.length);
            words.forEach(word => {
                const regex = new RegExp(`\\b${word}\\b`, 'gi');
                convertedText = convertedText.replace(regex, wordMap[word]);
            });
            
            outputTextarea.value = convertedText;
            showNotification('Text converted successfully!', 'success');
        }
        
        // 17. Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø
        function copyToClipboard() {
            const outputText = document.getElementById('outputText');
            outputText.select();
            outputText.setSelectionRange(0, 99999); // ÁßªÂä®ËÆæÂ§áÊîØÊåÅ
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showNotification('Copied to clipboard!', 'success');
                } else {
                    showNotification('Failed to copy. Please try again.', 'error');
                }
            } catch (err) {
                // ‰ΩøÁî®Êñ∞ÁöÑ Clipboard API
                navigator.clipboard.writeText(outputText.value)
                    .then(() => showNotification('Copied to clipboard!', 'success'))
                    .catch(() => showNotification('Failed to copy. Please try again.', 'error'));
            }
        }
        
        // 18. ÁîüÊàêÊµãÈ™å
        function generateQuiz() {
            const quizContainer = document.getElementById('quizContainer');
            
            if (quizContainer.style.display === 'block') {
                quizContainer.style.display = 'none';
                return;
            }
            
            // ‰ªéÂΩìÂâçÁ≠õÈÄâÁªìÊûú‰∏≠ÈöèÊú∫ÈÄâÊã©5‰∏™ËØç
            const quizWords = [...filteredData]
                .sort(() => Math.random() - 0.5)
                .slice(0, 5);
            
            let quizHTML = '<h4>Quick Quiz (5 Questions)</h4>';
            
            quizWords.forEach((word, index) => {
                // ÁîüÊàêÂπ≤Êâ∞È°π
                const distractors = [...fullData]
                    .filter(w => w.pos === word.pos && w.english !== word.english)
                    .sort(() => Math.random() - 0.5)
                    .slice(0, 3)
                    .map(w => w.hanzi);
                
                const options = [word.hanzi, ...distractors]
                    .sort(() => Math.random() - 0.5);
                
                quizHTML += `
                    <div style="margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 8px;">
                        <p><strong>${index + 1}. What is the correct hanzi for "${word.english}" (${word.meaning_en})?</strong></p>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 10px;">
                            ${options.map((opt, i) => `
                                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                    <input type="radio" name="q${index}" value="${opt}">
                                    <span style="font-size: 1.5rem; font-family: 'SimSun', serif;">${opt}</span>
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            
            quizHTML += `
                <button class="btn" onclick="checkQuiz()" style="margin-right: 10px;">
                    <i class="fas fa-check"></i> Check Answers
                </button>
                <button class="btn btn-accent" onclick="document.getElementById('quizContainer').style.display='none'">
                    <i class="fas fa-times"></i> Close Quiz
                </button>
            `;
            
            quizContainer.innerHTML = quizHTML;
            quizContainer.style.display = 'block';
        }
        
        // 19. Ê£ÄÊü•ÊµãÈ™åÁ≠îÊ°à
        function checkQuiz() {
            const quizWords = filteredData.slice(0, 5);
            let score = 0;
            
            quizWords.forEach((word, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                if (selected && selected.value === word.hanzi) {
                    score++;
                    selected.parentElement.style.background = '#d4edda';
                } else if (selected) {
                    selected.parentElement.style.background = '#f8d7da';
                }
            });
            
            // ÊòæÁ§∫ÁªìÊûú
            const resultHTML = `
                <div style="margin-top: 20px; padding: 15px; background: ${score >= 4 ? '#d4edda' : '#fff3cd'}; 
                            border-radius: 8px; border: 2px solid ${score >= 4 ? '#c3e6cb' : '#ffeaa7'}">
                    <h4 style="color: ${score >= 4 ? '#155724' : '#856404'}">
                        <i class="fas fa-${score >= 4 ? 'trophy' : 'award'}"></i>
                        Quiz Result: ${score}/5 (${(score/5*100).toFixed(0)}%)
                    </h4>
                    <p>${score >= 4 ? 'Excellent! You know these words well.' : 
                         score >= 3 ? 'Good job! Keep practicing.' : 
                         'Keep studying! Try the flashcards mode.'}</p>
                </div>
            `;
            
            document.getElementById('quizContainer').insertAdjacentHTML('beforeend', resultHTML);
        }
        
        // 20. ÊòæÁ§∫Èó™Âç°
        function showFlashcards() {
            const flashcardWords = [...filteredData].slice(0, 10);
            
            let flashcardHTML = `
                <div style="margin-top: 20px;">
                    <h4>Flashcards Mode (${flashcardWords.length} cards)</h4>
                    <div style="display: flex; justify-content: center; margin: 20px 0;">
                        <div id="flashcard" style="width: 300px; height: 200px; 
                            perspective: 1000px; cursor: pointer;">
                            <div id="flashcard-inner" style="width: 100%; height: 100%; 
                                position: relative; transform-style: preserve-3d; 
                                transition: transform 0.6s;">
                                <!-- Âç°ÁâáÂÜÖÂÆπÂä®ÊÄÅÊõ¥Êñ∞ -->
                            </div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" id="prevCard" style="width: auto;">
                            <i class="fas fa-arrow-left"></i> Previous
                        </button>
                        <span id="cardCounter" style="margin: 0 15px;">1/${flashcardWords.length}</span>
                        <button class="btn" id="nextCard" style="width: auto;">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            `;
            
            const quizContainer = document.getElementById('quizContainer');
            quizContainer.innerHTML = flashcardHTML;
            quizContainer.style.display = 'block';
            
            // ÂàùÂßãÂåñÈó™Âç°
            window.currentCardIndex = 0;
            window.flashcardWords = flashcardWords;
            updateFlashcard();
            
            // Ê∑ªÂä†‰∫ã‰ª∂ÁõëÂê¨Âô®
            document.getElementById('flashcard').addEventListener('click', flipCard);
            document.getElementById('prevCard').addEventListener('click', () => changeCard(-1));
            document.getElementById('nextCard').addEventListener('click', () => changeCard(1));
        }
        
        // 21. Êõ¥Êñ∞Èó™Âç°
        function updateFlashcard() {
            const word = window.flashcardWords[window.currentCardIndex];
            const cardInner = document.getElementById('flashcard-inner');
            const isFlipped = cardInner.style.transform === 'rotateY(180deg)';
            
            cardInner.innerHTML = `
                <div style="position: absolute; width: 100%; height: 100%; 
                    backface-visibility: hidden; background: white; 
                    border: 2px solid var(--secondary); border-radius: 10px;
                    display: flex; flex-direction: column; justify-content: center;
                    align-items: center; padding: 20px;">
                    <div style="font-size: 3rem; margin-bottom: 20px;">${word.hanzi}</div>
                    <div style="color: #666; font-size: 0.9rem;">Click to flip</div>
                </div>
                <div style="position: absolute; width: 100%; height: 100%; 
                    backface-visibility: hidden; background: var(--light); 
                    border: 2px solid var(--secondary); border-radius: 10px;
                    transform: rotateY(180deg); padding: 20px;">
                    <h3 style="color: var(--primary); margin-bottom: 10px;">${word.english}</h3>
                    <p><strong>Pinyin:</strong> ${word.pinyin}</p>
                    <p><strong>Meaning:</strong> ${word.meaning_en}</p>
                    <p><strong>Example:</strong> ${word.example}</p>
                    <p style="margin-top: 15px; color: #666; font-size: 0.9rem;">Click to flip back</p>
                </div>
            `;
            
            // ‰øùÊåÅÁøªËΩ¨Áä∂ÊÄÅ
            if (isFlipped) {
                cardInner.style.transform = 'rotateY(180deg)';
            } else {
                cardInner.style.transform = 'rotateY(0deg)';
            }
            
            // Êõ¥Êñ∞ËÆ°Êï∞Âô®
            document.getElementById('cardCounter').textContent = 
                `${window.currentCardIndex + 1}/${window.flashcardWords.length}`;
        }
        
        // 22. ÁøªËΩ¨Âç°Áâá
        function flipCard() {
            const cardInner = document.getElementById('flashcard-inner');
            cardInner.style.transform = cardInner.style.transform === 'rotateY(180deg)' 
                ? 'rotateY(0deg)' 
                : 'rotateY(180deg)';
        }
        
        // 23. ÂàáÊç¢Âç°Áâá
        function changeCard(direction) {
            window.currentCardIndex += direction;
            
            if (window.currentCardIndex < 0) {
                window.currentCardIndex = window.flashcardWords.length - 1;
            } else if (window.currentCardIndex >= window.flashcardWords.length) {
                window.currentCardIndex = 0;
            }
            
            updateFlashcard();
        }
        
        // 24. ÂàõÂª∫Â≠¶‰π†ËÆ°Âàí
        function createStudyPlan() {
            const planHTML = `
                <div style="margin-top: 20px;">
                    <h4>Create Study Plan</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div style="background: #e8f4f8; padding: 20px; border-radius: 8px;">
                            <h5><i class="fas fa-bolt" style="color: #3498db;"></i> Quick Start</h5>
                            <p>Study 10 P1 words per day</p>
                            <p>Complete in ${Math.ceil(500/10)} days</p>
                            <button class="btn" onclick="startPlan('quick')" style="margin-top: 10px; width: 100%;">
                                Start Plan
                            </button>
                        </div>
                        
                        <div style="background: #e8f6f3; padding: 20px; border-radius: 8px;">
                            <h5><i class="fas fa-calendar-check" style="color: #27ae60;"></i> Standard Plan</h5>
                            <p>Study 20 words per day (mix priorities)</p>
                            <p>Complete in ${Math.ceil(1500/20)} days</p>
                            <button class="btn" onclick="startPlan('standard')" style="margin-top: 10px; width: 100%;">
                                Start Plan
                            </button>
                        </div>
                        
                        <div style="background: #fef9e7; padding: 20px; border-radius: 8px;">
                            <h5><i class="fas fa-graduation-cap" style="color: #f39c12;"></i> Intensive Plan</h5>
                            <p>Study 50 words per day</p>
                            <p>Complete in ${Math.ceil(1500/50)} days</p>
                            <button class="btn" onclick="startPlan('intensive')" style="margin-top: 10px; width: 100%;">
                                Start Plan
                            </button>
                        </div>
                    </div>
                    
                    <div id="planProgress" style="margin-top: 30px; display: none;">
                        <!-- Â≠¶‰π†ËøõÂ∫¶Âä®ÊÄÅÊòæÁ§∫ -->
                    </div>
                </div>
            `;
            
            const quizContainer = document.getElementById('quizContainer');
            quizContainer.innerHTML = planHTML;
            quizContainer.style.display = 'block';
        }
        
        // 25. ÂºÄÂßãÂ≠¶‰π†ËÆ°Âàí
        function startPlan(type) {
            const plans = {
                quick: { daily: 10, duration: Math.ceil(500/10) },
                standard: { daily: 20, duration: Math.ceil(1500/20) },
                intensive: { daily: 50, duration: Math.ceil(1500/50) }
            };
            
            const plan = plans[type];
            
            // ÁîüÊàêÂ≠¶‰π†ËÆ°ÂàíÂÜÖÂÆπ
            const planContent = `
                <div style="background: white; padding: 20px; border-radius: 8px; border: 2px solid var(--secondary); margin-top: 20px;">
                    <h4 style="color: var(--primary);">
                        <i class="fas fa-rocket"></i> ${type.charAt(0).toUpperCase() + type.slice(1)} Plan Started!
                    </h4>
                    <p><strong>Daily Goal:</strong> ${plan.daily} words</p>
                    <p><strong>Total Duration:</strong> ${plan.duration} days</p>
                    <p><strong>Start Date:</strong> ${new Date().toLocaleDateString()}</p>
                    <p><strong>Expected Completion:</strong> ${new Date(Date.now() + plan.duration * 24 * 60 * 60 * 1000).toLocaleDateString()}</p>
                    
                    <div style="margin-top: 20px;">
                        <h5>Today's Words (${plan.daily} words):</h5>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;">
                            ${[...fullData].slice(0, plan.daily).map(word => `
                                <div style="padding: 8px 12px; background: var(--light); border-radius: 6px; font-size: 0.9rem;">
                                    ${word.hanzi} (${word.english})
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <button class="btn" onclick="savePlan()">
                            <i class="fas fa-save"></i> Save Plan
                        </button>
                        <button class="btn" onclick="sharePlan()" style="margin-left: 10px;">
                            <i class="fas fa-share"></i> Share Plan
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('planProgress').innerHTML = planContent;
            document.getElementById('planProgress').style.display = 'block';
        }
        
        // 26. ‰øùÂ≠òÂ≠¶‰π†ËÆ°Âàí
        function savePlan() {
            showNotification('Study plan saved to your account!', 'success');
        }
        
        // 27. ÂàÜ‰∫´Â≠¶‰π†ËÆ°Âàí
        function sharePlan() {
            showNotification('Plan sharing feature coming soon!', 'info');
        }
        
        // 28. ÊòæÁ§∫ÈÄöÁü•
        function showNotification(message, type) {
            // ÁßªÈô§Áé∞ÊúâÈÄöÁü•
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            // ÂàõÂª∫Êñ∞ÈÄöÁü•
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                background: ${type === 'success' ? '#27ae60' : 
                            type === 'error' ? '#e74c3c' : '#3498db'};
                color: white;
                border-radius: 8px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 1000;
                animation: slideIn 0.3s ease-out;
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 
                                     type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // 3ÁßíÂêéËá™Âä®ÁßªÈô§
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
            
            // Ê∑ªÂä†Âä®ÁîªÂÖ≥ÈîÆÂ∏ß
            if (!document.querySelector('#notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }
        
        // 29. ÈîÆÁõòÂø´Êç∑ÈîÆ
        document.addEventListener('keydown', function(e) {
            // Ctrl+F ËÅöÁÑ¶ÊêúÁ¥¢Ê°Ü
            if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                e.preventDefault();
                document.getElementById('searchInput').focus();
            }
            
            // ESC Ê∏ÖÈô§ÊêúÁ¥¢
            if (e.key === 'Escape') {
                document.getElementById('searchInput').value = '';
                handleSearch();
            }
        });
        
        // 30. Á™óÂè£Â§ßÂ∞èË∞ÉÊï¥ÂìçÂ∫î
        window.addEventListener('resize', function() {
            // Âú®Â∞èÂ±èÂπï‰∏äËá™Âä®ÂàáÊç¢Âà∞Âç°ÁâáËßÜÂõæ
            if (window.innerWidth < 768 && currentView === 'table') {
                document.getElementById('viewMode').value = 'cards';
                currentView = 'cards';
                updateDisplay();
            }
        });
    </script>
</body>
</html>